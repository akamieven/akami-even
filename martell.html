<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta name="color-scheme" content="dark light">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="إقتباسات رواية أغنيَّة الجَليد والنَّار باللغة العربية" />
  <meta name="author" content="Akami Even" />
  <title>إقتباسات رواية أغنية الجليد والنار - آل مارتل</title>

  <link rel="icon" href="https://i.postimg.cc/1zw198Pr/Picsart-25-05-01-18-19-21-090.jpg" type="image/png" />
  <link rel="stylesheet" href="style.css">
  <style>
    :root {
      --accent-color: #CD5700;
    }
  </style>

</head>
<body class="martellpic">

  <div class="overlay"></div>

  <header>
    <button class="menu-toggle" onclick="toggleSidebar()">☰</button>
  </header>

<div id="sidebar-container"></div>
<div id="family-identity" style="display: none;">
    <span id="family-name">العوائل</span>
    <div id="family-logo">
   <img src="https://i.postimg.cc/HWRjRmXX/Picsart-25-12-27-12-37-49-178.webp" class="sigils2">
    </div>
</div>
  <div class="content">
    <h1 lang="en">Unbowed, Unbent, Unbroken</h1>
      <p style="font-size: 25px;"> «لا ننحني، لا نخضع، لا ننكسر »<p>
    <p style="font-size: 45px;">آل مارتل</p>
    <a href="index.html" class="home-link">الصفحة الرئيسية</a>

   <hr style="width: 100%; opacity: 0.5; margin: 30px auto;">

    <div class="character-section" style="margin-top: 50px;">
      <div class="character" id="oberyn">
        <img src="https://i.postimg.cc/5tjVF0ty/71eabd65c29dfbf3aaf85930a98bf08e.jpg" alt=" أوبرين مارتل">
        <h2>أوبرين مارتل</h2>
        <div class="quote">
«ذات مرَّةٍ زعمَ سِپتون عجوز أنني  دليل  حي على رأفة الآلهة. أتعرف السَّبب أيها العِفريت؟». رَدَّ تيريون بحذر: «لا». - «لأنها لو كانت قاسيةً لجعلَتني أول أولاد أمِّي ودوران ثالثهم. إنني رجل متعطِّش للدِّماء، والآن عليك أن تتعامَل معي أنا، وليس أخي الصَّبور المتعقِّل المبتلى بالنِّقرس».
            <cite>-عاصفة السيوف-</cite>
          <button class="copy-btn" onclick="copyToClipboard(this)">نسخ</button>
        </div>
      </div>
    </div>
  </div>

<script>
fetch('sidebar.html')
  .then(response => response.text())
  .then(data => {
    document.getElementById('sidebar-container').innerHTML = data;

    // حقن الهوية
    const familyName = document.getElementById('family-name').innerText;
    const familyLogo = document.getElementById('family-logo').innerHTML;
    const sidebarTitle = document.getElementById('sidebar-title');

    if (sidebarTitle) {
      sidebarTitle.innerHTML = `<span>${familyName}</span> ${familyLogo}`;
    }

    // تفعيل السيوف
    const template = document.getElementById('sword-template');
    if (template) {
       const swordContent = template.innerHTML;
       document.querySelectorAll('.sword-icon').forEach(icon => {
         icon.innerHTML = swordContent;
       });
    }

    // تفعيل القوائم
    document.querySelectorAll('.dropbtn').forEach(button => {
      button.addEventListener('click', function (e) {
        e.stopPropagation();
        const family = this.parentElement;
        document.querySelectorAll('.family').forEach(f => {
          if (f !== family) f.classList.remove('open');
        });
        family.classList.toggle('open');
      });
    });
  }) // تم إغلاق بلوك الـ then هنا بشكل صحيح
  .catch(error => console.error('Error loading sidebar:', error));

// الدوال العامة
function toggleSidebar() {
  const sidebar = document.getElementById('sidebar');
  if (sidebar) sidebar.classList.toggle('visible');
}

document.addEventListener('click', function(event) {
  const sidebar = document.getElementById('sidebar');
  const menuToggle = document.querySelector('.menu-toggle');
  if (sidebar && sidebar.classList.contains('visible') && !sidebar.contains(event.target) && !menuToggle.contains(event.target)) {
    sidebar.classList.remove('visible');
  }
});

function copyToClipboard(button) {
  let textToCopy = button.parentElement.innerText.replace("نسخ", "").replace("تم النسخ", "").trim();
  navigator.clipboard.writeText(textToCopy).then(() => {
    button.textContent = "تم النسخ";
    setTimeout(() => button.textContent = "نسخ", 1500);
  });
}
</script>
</body>
</html>